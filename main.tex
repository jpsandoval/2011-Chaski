%%%%%%%%%%%%%
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
%\documentclass[runningheads]{llncs}
%\documentclass[10pt,letterpaper,twocolumn]{article}
\documentclass{sig-alternate}


% packages
\usepackage{xspace}
\usepackage{ifthen}
\usepackage{amsbsy}
\usepackage{amssymb}
\usepackage{balance}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{needspace}
\usepackage{microtype}
\usepackage{bold-extra}
\usepackage{subfigure}
\usepackage{wrapfig}


% constants
\newcommand{\Title}{Execution Blueprint: An Effective Visual Support to Monitor Software Execution}
\newcommand{\TitleShort}{\Title}
\newcommand{\Authors}{Juan Pablo Sandoval Alcocer, Alexandre Bergel}
\newcommand{\AuthorsShort}{J.P. Sandoval Alcocer, A. Bergel}

% references
\usepackage[colorlinks]{hyperref}
\usepackage[all]{hypcap}
\setcounter{tocdepth}{2}
\hypersetup{
	colorlinks=true,
	urlcolor=black,
	linkcolor=black,
	citecolor=black,
	plainpages=false,
	bookmarksopen=true,
	pdfauthor={\Authors},
	pdftitle={\Title}}

\def\chapterautorefname{Chapter}
\def\appendixautorefname{Appendix}
\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\def\figureautorefname{Figure}
\def\tableautorefname{Table}
\def\listingautorefname{Listing}

% source code
\usepackage{xcolor}
\usepackage{textcomp}
\usepackage{listings}
\definecolor{source}{gray}{0.9}
\lstset{
	language={},
	% characters
	tabsize=3,
	upquote=true,
	escapechar={!},
	keepspaces=true,
	breaklines=true,
	alsoletter={\#:},
	breakautoindent=true,
	columns=fullflexible,
	showstringspaces=false,
	basicstyle=\footnotesize\sffamily,
	% background
	frame=single,
    framerule=0pt,
	backgroundcolor=\color{source},
	% numbering
	numbersep=5pt,
	numberstyle=\tiny,
	numberfirstline=true,
	% captioning
	captionpos=b,
	% formatting (html)
	moredelim=[is][\textbf]{<b>}{</b>},
	moredelim=[is][\textit]{<i>}{</i>},
	moredelim=[is][\color{red}\uwave]{<u>}{</u>},
	moredelim=[is][\color{red}\sout]{<del>}{</del>},
	moredelim=[is][\color{blue}\underline]{<ins>}{</ins>}}
\newcommand{\ct}{\lstinline[backgroundcolor=\color{white},basicstyle=\footnotesize\ttfamily]}
\newcommand{\lct}[1]{{\small\tt #1}}

% tikz
% \usepackage{tikz}
% \usetikzlibrary{matrix}
% \usetikzlibrary{arrows}
% \usetikzlibrary{external}
% \usetikzlibrary{positioning}
% \usetikzlibrary{shapes.multipart}
% 
% \tikzset{
% 	every picture/.style={semithick},
% 	every text node part/.style={align=center}}

% proof-reading
\usepackage{xcolor}
\usepackage[normalem]{ulem}
\newcommand{\ra}{$\rightarrow$}
\newcommand{\ugh}[1]{\textcolor{red}{\uwave{#1}}} % please rephrase
\newcommand{\ins}[1]{\textcolor{blue}{\uline{#1}}} % please insert
\newcommand{\del}[1]{\textcolor{red}{\sout{#1}}} % please delete
\newcommand{\chg}[2]{\textcolor{red}{\sout{#1}}{\ra}\textcolor{blue}{\uline{#2}}} % please change
\newcommand{\chk}[1]{\textcolor{ForestGreen}{#1}} % changed, please check

% comments \nb{label}{color}{text}
\newboolean{showcomments}
\setboolean{showcomments}{true}
\ifthenelse{\boolean{showcomments}}
	{\newcommand{\nb}[3]{
		{\colorbox{#2}{\bfseries\sffamily\scriptsize\textcolor{white}{#1}}}
		{\textcolor{#2}{\sf\small$\blacktriangleright$\textit{#3}$\blacktriangleleft$}}}
	 \newcommand{\version}{\emph{\scriptsize$-$Id$-$}}}
	{\newcommand{\nb}[2]{}
	 \newcommand{\version}{}}
\newcommand{\rev}[2]{\nb{Reviewer #1}{red}{#2}}
\newcommand{\ab}[1]{\nb{Alexandre}{blue}{#1}}
\newcommand{\vp}[1]{\nb{Vanessa}{orange}{#1}}

% graphics: \fig{position}{percentage-width}{filename}{caption}
\DeclareGraphicsExtensions{.png,.jpg,.pdf,.eps,.gif}
\graphicspath{{figures/}}
\newcommand{\fig}[4]{
	\begin{figure}[#1]
		\centering
		\includegraphics[width=#2\textwidth]{#3}
		\caption{\label{fig:#3}#4}
	\end{figure}}

\newcommand{\largefig}[4]{
	\begin{figure*}[#1]
		\centering
		\includegraphics[width=#2\textwidth]{#3}
		\caption{\label{fig:#3}#4}
	\end{figure*}}
	
\newcommand{\wrapfig}[5]{	
\begin{wrapfigure}{#1}{#2\textwidth}
  \begin{center}
    \includegraphics[width=#3\textwidth]{#4}
  \end{center}
  \caption{\label{fig:#4}#5}
\end{wrapfigure}}

% abbreviations
\newcommand{\ie}{\emph{i.e.,}\xspace}
\newcommand{\eg}{\emph{e.g.,}\xspace}
\newcommand{\etc}{\emph{etc.}\xspace}
\newcommand{\etal}{\emph{et al.}\xspace}

% lists
\newenvironment{bullets}[0]
	{\begin{itemize}}
	{\end{itemize}}

\newcommand{\seclabel}[1]{\label{sec:#1}}
\newcommand{\figlabel}[1]{\label{fig:#1}}
\newcommand{\figref}[1]{Figure~\ref{fig:#1}}
\newcommand{\secref}[1]{Section~\ref{sec:#1}}


%Specialized macros
\newcommand{\hapao}{Hapao\xspace}
\newcommand{\Hapao}{Hapao\xspace}
\pagenumbering{arabic}

\begin{document}

\title{\Title}
%\titlerunning{\TitleShort}

\author{\Authors\\[3mm]
Department of Computer Science (DCC)\\ University of Chile, Santiago, Chile\\[1 ex]
} 
%\authorrunning{\AuthorsShort}

\maketitle

\emph{This paper makes use of colored figures. Though colors are not mandatory for full understanding, we recommend  the use of a colored printout.}

\begin{abstract}
%	What's the problem.
%	Why is the problem a problem?
%	What's the surprising idea?
%	What's the consequence?

Understanding the behavior of software is one essential task of the software life cycle, especially when maintenance activities have to be performed. One has to analyze the code, the documentation or any other device before making any changes therefore it becomes a difficult task and time consuming.

Our goal is to show a visualization that represents the interaction of objects involved in the execution which can help developers gain a better understanding of the software execution. The large number of objects involved in execution represents a major challenge.

Chaski is a tool to address this problem of understanding by visualizing the execution of an object oriented program. Execution blueprint shows the interaction between objects through messages exchanged between them, in the order they occur. \ab{Say more about the visualization}. This visualization helps to: understand the current behavior of the software, find candidates for refactoring and optimization, show dependencies and relations, among others.


\end{abstract}

%: % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\section{Introduction}\seclabel{introduction}

The use of highly reflective dynamic languages can make seemingly simple questions(how 2 or more packages interact? What kinds are dependent to a certain class? When exactly this method is invoked?)difficult to answer if we just analyze the source code, documentation or any other appliance design.

To answer these questions among others and to improve the process of understanding, it is necessary to make a dynamic analysis, or analysis of data retrieved from the execution of a program.

In this context, we propose a visualization of the execution of an object oriented program, showing the interaction between objects through messages exchanged between them, in the order they occur. While understanding the overall behavior of the system is ideal, this visualization was intended to be used by objectives, in other words, to analyze portions of the application that really interest us to achieve an objective.

The purpose of this visualization is to help: understand the current behavior of the software, find candidates for refactoring and optimization, show dependencies and relations, among others.

%: % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section{Execution Blueprint}\seclabel{executionBlueprint}

\subsection{In a nutshell}

\ab{In this section you already go into details. This has to come afterwards. Start with a cool visualization and says you see in the visualization. Subsequent sections will then go into details.}

In this section we'll discuss the visualization shown in Figure 1.

\ab{Script is not necessary. A clear description of the visualization is more important}
(Example figure 1)
view := MOViewRenderer new.
profile := (Chaski profile: [
	view nodes: (1 to: 4).
	] inPackagesMatching: 'Mondrian-*').

\ab{Give an example of a cool visualization}
\largefig{}{0.7}{ChaskiPreview7}{\ab{Give a better title! Put some letter in the figure and refer to them in the text}}


In the visualization we can distinguish two types of components; the classifiers: package, class, object which are identified by the colors blue, red, yellow, respectively; and the messages that have a default gray color, the color of the messages can also be determined by any particular criterion, for example, in Figure 1. \del{you can see that} \chg{m}{M}essages \chg{were}{are} colored with magenta. \del{Finally, it is necessary to clarify that the }\chg{m}{M}essages are vertically aligned at the same y-axis of the receptor component of the message (in the example at the height of the receptor object of the message???\ab{I do not understand the question}), and are placed horizontally one after another in the order they were invoked.

\del{Another important point in the visualization is} the relationship between messages\chg{, which is}{are} determined by the axes (edges) that join two messages. In the case of Figure 1. the union of 2 posts would mean that most left message invoked to right message.

To help mark or highlight the messages you want to analyze, chaski provides a simple mechanism of colored rules of messages, it allows to color a message given a particular criterion. If you have multiple criteria and, in the case that one or more messages meet more than one criterion, these will take the color of the last criterion. In the case of Figure 1 we use this criteria to set a color in some messages.

    "ifMessage:[  :aMessage  | aMessage method selector='initialize'] fillColor: Color magenta."

(no se como unir :P)
In Figure 1 we can easily detect which object is the one that receives more messages, which object needs to communicate with objects from other packages, which objects are instantiated at runtime (magenta messages) and how many instances of a particular class participate in the execution.

%=========
\subsection{Layout}

The essence of "layout" are the messages and the chronological order in which these (messages) occur. y agruparlos por paquete,clase y objeto en ese orden o cualquiera de estos otros([paquete], [clase], [objeto], [paquete,clase], [paquete,objeto], [paquete,clase,objeto]).

While the messages are sorted horizontally in chronological order, the other components (package, class, object) are sorted by number of posts referred to, (siendo que el elemento que invoque mas mensajes estara al mas arriba ) <- esto tiene que mejorarse.

The relationships between messages is an important factor (edges), the layout offers 2 types of relationships
\begin{itemize}
\item Dependency messages.- where a message is related to the message from which it was invoked.
\item Sequence between messages.- where a message is simply associated with another in the order they were executed.
\end{itemize}

Si bien la relacion de dependencia es importante para analisar el acoplamiento de paquetes o de clases y identificar patrones en la ejecucion,... falta XD \ab{espa\~nol?}

\ab{We are not talking about Chaski here. Chaski has to be mentioned in the implementation. We need to talk about execution blueprint, the visualization given by Chaski.}

\ab{Give an example of a cool visualization}
\largefig{}{0.7}{ChaskiPreview5}{\ab{Give a better title! Put some letter in the figure and refer to them in the text}}

%=========
\subsection{Patterns}
\ab{Tell about the patterns you have showed me}

%: % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section{Case Study}\seclabel{case study}

\subsection{Mondrian}

\subsection{Execution anomalies}

\subsection{Improvement}

%: % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section{Managing the scalability}\seclabel{scalability}

So like a lot of objects are created when executing an object-oriented program,  so much larger the number of messages that are sent between objects, making the visualization extremely large. The filters in chaski try to display messages that meet a certain condition allowing a smaller view and most importantly, making  possible to analyze only the messages that interest us.


%: % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section{Discussion}\seclabel{discussion}
The large-scale sequence of messages makes the screen resolution not enough to show a lot of information,causing the emergence of scrolls that make the graphics difficult to understand\ab{This is an important point, but this has to come later on in the paper. Maybe in the discussion session}.

%: % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section{Implementation}\seclabel{implementation}

\subsection{Chaski}


%: % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\section{Related work}\seclabel{relatedwork}


%: % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\section{Conclusion}\seclabel{conclusion}

%\paragraph{Acknowledgment}
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %

\bibliographystyle{plain}
\bibliography{scg}

\end{document}

